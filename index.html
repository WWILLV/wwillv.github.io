<!-- build time:Mon Feb 10 2020 10:11:32 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.1.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg?v=7.1.0"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0"><link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"7.1.0",sidebar:{position:"left",display:"post",offset:12,onmobile:!1,dimmer:!1},back2top:!0,back2top_sidebar:!1,fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><script></script><meta name="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta name="keywords" content="Hexo, willv, 信息安全, hack, 技术, 博客"><meta property="og:type" content="website"><meta property="og:title" content="时光"><meta property="og:url" content="https://willv.cn/index.html"><meta property="og:site_name" content="时光"><meta property="og:description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="时光"><meta name="twitter:description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><link rel="alternate" href="/atom.xml" title="时光" type="application/atom+xml"><link rel="canonical" href="https://willv.cn/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>时光</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?62382cd2dc6f4cabe6aae29a96f8cc47";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">时光</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home menu-item-active"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-projects"><a href="/projects/" rel="section"><i class="menu-item-icon fa fa-fw fa-code"></i><br>项目</a></li><li class="menu-item menu-item-writeup"><a href="/writeups/" rel="section"><i class="menu-item-icon fa fa-fw fa-flag"></i><br>writeup</a></li><li class="menu-item menu-item-friends"><a href="/friends/" rel="section"><i class="menu-item-icon fa fa-fw fa-group"></i><br>友链</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2019/11/21/CVE-2019-1388/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/11/21/CVE-2019-1388/" class="post-title-link" itemprop="url">CVE-2019-1388 UAC提权</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-11-21 16:19:18" itemprop="dateCreated datePublished" datetime="2019-11-21T16:19:18+08:00">2019-11-21</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-11-24 18:16:10" itemprop="dateModified" datetime="2019-11-24T18:16:10+08:00">2019-11-24</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/11/21/CVE-2019-1388/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/11/21/CVE-2019-1388/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="CVE-2019-1388"><a href="#CVE-2019-1388" class="headerlink" title="CVE-2019-1388"></a>CVE-2019-1388</h2><p><a href="https://www.thezdi.com/blog/2019/11/19/thanksgiving-treat-easy-as-pie-windows-7-secure-desktop-escalation-of-privilege" target="_blank" rel="noopener">CVE-2019-1388 | Windows Certificate Dialog Elevation of Privilege Vulnerability</a></p><p>2019年11月12日msrc发布了漏洞，官方的介绍是</p><blockquote><p>An elevation of privilege vulnerability exists in the Windows Certificate Dialog when it does not properly enforce user privileges. An attacker who successfully exploited this vulnerability could run processes in an elevated context. An attacker could then install programs; view, change or delete data.</p><p>To exploit this vulnerability, an attacker would first have to log on to the system. An attacker could then run a specially crafted application that could exploit the vulnerability and take control of an affected system.</p><p>The security update addresses the vulnerability by ensuring Windows Certificate Dialog properly enforces user privileges.</p><p>如果 Windows 证书对话框没有正确执行用户特权，则存在特权提升漏洞。成功利用此漏洞的攻击者可以在提升的环境中运行进程。然后，攻击者可能会安装程序，查看、更改或删除数据。<br>要利用此漏洞，攻击者首先必须以普通用户权限登录系统。然后攻击者运行一个精心调制的应用，该应用可以利用此漏洞并控制受影响的系统。<br>该安全更新通过确保 Windows 证书对话框正确执行用户特权来解决该漏洞。</p></blockquote><p>影响范围也比较广，从win7到win10，server2008到2016，如果不打补丁都有威胁。</p><p><a href="https://gist.github.com/gentilkiwi/802c221c0731c06c22bb75650e884e5a" target="_blank" rel="noopener">威胁测试名单</a></p><div class="post-button text-center"><a class="btn" href="/2019/11/21/CVE-2019-1388/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2019/10/14/oray-from-afr-to-getshell/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/10/14/oray-from-afr-to-getshell/" class="post-title-link" itemprop="url">通过向日葵远控从任意文件读取到获取计算机系统权限</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-10-14 14:34:33 / 修改时间：15:14:13" itemprop="dateCreated datePublished" datetime="2019-10-14T14:34:33+08:00">2019-10-14</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/10/14/oray-from-afr-to-getshell/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/10/14/oray-from-afr-to-getshell/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h2><p>事情要从最近发生的一些安全事件说起。</p><p>最近TeamViewer的事闹的挺火的，起因是FireEye的一个分析APT41的PPT中提到了TeamViewer在2016年的一起事件，这张PPT被拍了下来发到了Twitter上。其实本来没什么事，首先，16年TV的那个事件也只是报纸报道，没有证据表明TV的数据收到了影响，而且，现在都9102年了，而且火眼的报告只是说了一下过去的事情来说自己多牛逼的（他说APT41是中国的，暗示中国搞过TeamViewer）。结果，深圳网警就根据这张什么都无法证明的图发了个TeamViewer被境外黑客APT41攻破有危险的公告微博，然后国内就炸了，各大公司单位纷纷禁用TeamViewer，然后深圳网警就把之前发的公告微博给删了（令人窒息的操作）。真实的开局一张图，内容全靠编系列。（TeamViewer官方和Twitter上发原图的大哥都做了澄清，TV没问题）</p><p>没有TeamViewer那用什么的。很多人就想到了国产远控向日葵，这篇文章就说一下向日葵目前存在的安全隐患。</p><div class="post-button text-center"><a class="btn" href="/2019/10/14/oray-from-afr-to-getshell/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2019/10/10/USENIX/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/10/10/USENIX/" class="post-title-link" itemprop="url">USENIX paper 整理</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-10-10 12:39:42 / 修改时间：19:54:17" itemprop="dateCreated datePublished" datetime="2019-10-10T12:39:42+08:00">2019-10-10</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/10/10/USENIX/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/10/10/USENIX/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="USENIX-Security-‘19-Technical-Sessions"><a href="#USENIX-Security-‘19-Technical-Sessions" class="headerlink" title="USENIX Security ‘19 Technical Sessions"></a>USENIX Security ‘19 Technical Sessions</h2><p><a href="https://www.usenix.org/sites/default/files/sec19_full_proceedings.pdf" target="_blank" rel="noopener">USENIX Security ‘19 Full Proceedings (PDF, 210.5 MB)</a></p><p>嵌入的由官方所提供的演讲视频来自YouTube，视情况可能需要准备梯子。</p><p>内容太多了，部分内容是机器翻译。</p><h3 id="Keynote-Address"><a href="#Keynote-Address" class="headerlink" title="Keynote Address"></a>Keynote Address</h3><h4 id="Tackling-the-Trust-and-Safety-Crisis"><a href="#Tackling-the-Trust-and-Safety-Crisis" class="headerlink" title="Tackling the Trust and Safety Crisis"></a><a href="https://www.usenix.org/conference/usenixsecurity19/presentation/stamos" target="_blank" rel="noopener">Tackling the Trust and Safety Crisis</a></h4><blockquote><p>解决信任与安全危机</p><p>Alex Stamos, <em>Adjunct Professor, Stanford University; William J. Perry Fellow, Center for International Security and Cooperation; Fellow, Hoover Institution</em></p></blockquote><p>Around the turn of the century, the technology industry faced a pretty basic problem: we had no idea how to write secure software. Every year brought the invention of completely new classes of software flaw, there was little training available in industry or the academy, and security was considered something you added with a firewall and antivirus.</p><p>Twenty years have past and, while things are far from perfect, we at least have a great deal more understanding of how to address core information security risks in complex software projects. The tech industry is now facing a whole set of new issues, ones involving our inability to build products that are safe, trustworthy, and respectful of user privacy when deployed to billions globally. Unlike before, however, this is not just a computer science problem but one that crosses into the worlds of sociology, psychology, political science, and anthropology.</p><p>In this talk, the speaker will draw from his deep well of experience making serious mistakes in this area to lay out some of the basic challenges facing industry and academia while humbly suggesting some possible ways forward. This time, we don’t have decades to figure out how to do better.</p><details><summary>翻译</summary>在本世纪初，技术行业面临一个非常基本的问题：我们不知道如何编写安全的软件。每年都发明全新的软件缺陷类别，在行业或学术机构中几乎没有有用的培训，并且安全被认为是添加了防火墙和反病毒功能的东西。<br><br>二十年过去了，虽然事情还远未达到完美，但我们至少对如何解决复杂软件项目中的核心信息安全风险有了更多的了解。现在，技术行业面临着一系列新问题，其中包括我们无法在全球数十亿用户面前打造出安全、值得信赖、尊重用户隐私的产品。但是，与以往不同，这不仅是计算机科学问题，而且还涉及社会学，心理学，政治学和人类学领域。<br><br>在这次演讲中，演讲者将利用他在该领域犯下的严重错误的深厚经验，阐述工业界和学术界面临的一些基本挑战，同时谦虚地提出一些可能的解决方案。这次，我们没有数十年的时间去想出如何做得更好。</details><iframe width="745" height="420" src="https://www.youtube.com/embed/uJ8ID_smn1k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><div class="post-button text-center"><a class="btn" href="/2019/10/10/USENIX/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2019/04/08/ZokuOwarimonogatari/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/04/08/ZokuOwarimonogatari/" class="post-title-link" itemprop="url">续·终物语</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-04-08 22:54:41" itemprop="dateCreated datePublished" datetime="2019-04-08T22:54:41+08:00">2019-04-08</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-11-09 23:50:20" itemprop="dateModified" datetime="2019-11-09T23:50:20+08:00">2019-11-09</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/04/08/ZokuOwarimonogatari/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/08/ZokuOwarimonogatari/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>什么嘛 这种事情而已<br>如果不知道前行时是先迈出右脚还是左脚的话<br>这样做不就行了吗</p><p>不是像袋鼠 而是像青蛙一样<br>我在原田径部部员强韧的脚力牵引下<br>为了不至于被抛下而紧跟上去<br>向前进发<br>增添了两成之后向前进发<br>向着光芒的方向跳跃</p></blockquote><div class="post-button text-center"><a class="btn" href="/2019/04/08/ZokuOwarimonogatari/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2019/01/06/new-2019/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/01/06/new-2019/" class="post-title-link" itemprop="url">Delete</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-06 16:38:16" itemprop="dateCreated datePublished" datetime="2019-01-06T16:38:16+08:00">2019-01-06</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-04-07 15:14:18" itemprop="dateModified" datetime="2019-04-07T15:14:18+08:00">2019-04-07</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/01/06/new-2019/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/01/06/new-2019/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>9102年了，看了看以前写的辣鸡文章，想删网站跑路了。想了想，还是没有，删了几篇太蠢的文章……</p><p>想想看自己还是太菜了，越学习越发现自己越菜，连个洞也挖不出来。只求过几个月考研成绩出来可以成功上岸吧~</p><p><img src="https://ooo.0o0.ooo/2019/01/06/5c31c0526c194.png" alt="9102年了_72479790"></p><div class="post-button text-center"><a class="btn" href="/2019/01/06/new-2019/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2018/07/21/RSA-ATTACK/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/07/21/RSA-ATTACK/" class="post-title-link" itemprop="url">CTF中常见的RSA相关问题总结[转]</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-07-21 17:33:51" itemprop="dateCreated datePublished" datetime="2018-07-21T17:33:51+08:00">2018-07-21</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-04-23 22:43:01" itemprop="dateModified" datetime="2019-04-23T22:43:01+08:00">2019-04-23</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2018/07/21/RSA-ATTACK/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/07/21/RSA-ATTACK/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="原文-CTF中常见的RSA相关问题总结"><a href="#原文-CTF中常见的RSA相关问题总结" class="headerlink" title="原文:CTF中常见的RSA相关问题总结"></a><a href="https://github.com/findneo/RSA-ATTACK" target="_blank" rel="noopener">原文:CTF中常见的RSA相关问题总结</a></h1><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>理解基本概念后，代码就可以说明一切，所以本文将每种攻击方式的实现方法都提炼成了一个函数，在理解原理时会有帮助，在需要时也可以直接调用。</p><h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="RSA概要"><a href="#RSA概要" class="headerlink" title="RSA概要"></a>RSA概要</h2><p>在开始前可以通过 <a href="http://www.guideep.com/read?guide=5676830073815040" target="_blank" rel="noopener">《RSA算法详解》</a> 这篇文章了解关于RSA的基础知识，包括加解密方法，算法原理和可行性证明等。</p><h2 id="应用流程"><a href="#应用流程" class="headerlink" title="应用流程"></a>应用流程</h2><ol><li><p>选取两个较大的互不相等的质数p和q，计算<code>n = p * q</code> 。</p></li><li><p>计算<code>phi = (p-1) * (q-1)</code> 。</p></li><li><p>选取任意e，使得e满足 <code>1&lt;e&lt;phi</code> 且 <code>gcd(e , phi) == 1</code> 。</p></li><li><p>计算e关于n的模逆元d， 即d满足<code>(e * d)% n ==1</code> 。</p></li><li><p>加解密：<code>c = (m ^ e) % n</code> ， <code>m = (c ^ d) % n</code> 。其中m为明文，c为密文，(n,e)为公钥对，d为私钥，要求 <code>0 &lt;= m &lt; n</code> 。</p><div class="post-button text-center"><a class="btn" href="/2018/07/21/RSA-ATTACK/#more" rel="contents">阅读全文 &raquo;</a></div></li></ol></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2018/02/15/bacon-fence/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/02/15/bacon-fence/" class="post-title-link" itemprop="url">培根密码栅栏密码</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-02-15 14:30:01 / 修改时间：16:11:34" itemprop="dateCreated datePublished" datetime="2018-02-15T14:30:01+08:00">2018-02-15</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2018/02/15/bacon-fence/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/02/15/bacon-fence/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>接上一篇的AES，在写<a href="https://github.com/WWILLV/Crypto" target="_blank" rel="noopener">Crypto类库</a>时也写了培根密码和栅栏密码，这里也写一下这两中加密算法。</p><h2 id="培根密码"><a href="#培根密码" class="headerlink" title="培根密码"></a>培根密码</h2><p>培根密码，又名倍康尼密码（英语：Bacon’s cipher）是由法兰西斯·培根发明的一种隐写术。[维基百科]</p><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>加密时，明文中的每个字母都会转换成一组五个英文字母。其转换依靠下表：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a   AAAAA   g     AABBA   n    ABBAA   t     BAABA</span><br><span class="line">b   AAAAB   h     AABBB   o    ABBAB   u-v   BAABB</span><br><span class="line">c   AAABA   i-j   ABAAA   p    ABBBA   w     BABAA</span><br><span class="line">d   AAABB   k     ABAAB   q    ABBBB   x     BABAB</span><br><span class="line">e   AABAA   l     ABABA   r    BAAAA   y     BABBA</span><br><span class="line">f   AABAB   m     ABABB   s    BAAAB   z     BABBB</span><br></pre></td></tr></table></figure><p></p><p>这只是一款最常用的加密表，有另外一款将每种字母配以不同的字母组予以转换，即I与J、U与V皆有不同编号。</p><p>加密者需使用两种不同字体，分别代表A和B。准备好一篇包含相同AB字数的假信息后，按照密文格式化假信息，即依密文中每个字母是A还是B分别套用两种字体。</p><p>解密时，将上述方法倒转。所有字体一转回A，字体二转回B，以后再按上表拼回字母。</p><p>法兰西斯·培根另外准备了一种方法，其将大小写分别看作A与B，可用于无法使用不同字体的场合（例如只能处理纯文本时）。但这样比起字体不同更容易被看出来，而且和语言对大小写的要求也不太兼容。</p><p>培根密码本质上是将二进制信息通过样式的区别，加在了正常书写之上。培根密码所包含的信息可以和用于承载其的文章完全无关。<br></p><div class="post-button text-center"><a class="btn" href="/2018/02/15/bacon-fence/#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2018/02/13/aes-study/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/02/13/aes-study/" class="post-title-link" itemprop="url">AES学习</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-02-13 16:11:02" itemprop="dateCreated datePublished" datetime="2018-02-13T16:11:02+08:00">2018-02-13</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2018-02-15 15:17:15" itemprop="dateModified" datetime="2018-02-15T15:17:15+08:00">2018-02-15</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2018/02/13/aes-study/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/02/13/aes-study/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>最近在写一个常见加密编码的类库<a href="https://github.com/WWILLV/Crypto" target="_blank" rel="noopener">Crypto</a>，其中涉及到很多加密及编码方式。写到了AES这里，遇到点麻烦，也是学习了一下AES加密。</p><blockquote><p>高级加密标准（英语：Advanced Encryption Standard，缩写：AES），在密码学中又称Rijndael加密法，是美国联邦政府采用的一种区块加密标准。这个标准用来替代原先的DES，已经被多方分析且广为全世界所使用。经过五年的甄选流程，高级加密标准由美国国家标准与技术研究院（NIST）于2001年11月26日发布于FIPS PUB 197，并在2002年5月26日成为有效的标准。2006年，高级加密标准已然成为对称密钥加密中最流行的算法之一。<br>该算法为比利时密码学家Joan Daemen和Vincent Rijmen所设计，结合两位作者的名字，以Rijndael为名投稿高级加密标准的甄选流程。（Rijndael的发音近于”Rhine doll”）（来自<a href="https://zh.wikipedia.org/wiki/%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86" target="_blank" rel="noopener">维基百科</a>）</p></blockquote><div class="post-button text-center"><a class="btn" href="/2018/02/13/aes-study/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2018/01/14/hitokoto/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/01/14/hitokoto/" class="post-title-link" itemprop="url">一言API调用</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-01-14 16:04:45" itemprop="dateCreated datePublished" datetime="2018-01-14T16:04:45+08:00">2018-01-14</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-04-06 23:33:23" itemprop="dateModified" datetime="2019-04-06T23:33:23+08:00">2019-04-06</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2018/01/14/hitokoto/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/01/14/hitokoto/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><a href="http://hitokoto.cn/" target="_blank" rel="noopener">一言</a>是一个非常棒的一句话服务<br><img src="https://ooo.0o0.ooo/2018/01/21/5a64a3083be83.jpg" alt="Hitokoto - 一言"><br>关于如何调用一言API到自己的博客中呢?首先可以看一下一言的API的内容：<a href="http://hitokoto.cn/api" target="_blank" rel="noopener">http://hitokoto.cn/api</a><br>这里提供一个简单的调用js<br></p><div class="post-button text-center"><a class="btn" href="/2018/01/14/hitokoto/#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://willv.cn/2018/01/10/how-to-ask/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WILL_V"><meta itemprop="description" content="辣鸡CTF选手，渣Web，逆向只会F5的渣渣"><meta itemprop="image" content="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="时光"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2018/01/10/how-to-ask/" class="post-title-link" itemprop="url">提问的艺术</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-01-10 10:45:57" itemprop="dateCreated datePublished" datetime="2018-01-10T10:45:57+08:00">2018-01-10</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2018-01-21 22:21:50" itemprop="dateModified" datetime="2018-01-21T22:21:50+08:00">2018-01-21</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2018/01/10/how-to-ask/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/01/10/how-to-ask/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="提问之前"><a href="#提问之前" class="headerlink" title="提问之前"></a>提问之前</h2><p>在通过电邮、新闻组或者聊天室提出技术问题前，检查你有没有做到：</p><p>1.通读手册，试着自己找答案。<br>2.在FAQ里找答案（一份维护得好的FAQ可以包罗万象:）。<br>3.在网上搜索（个人推荐google~~~）。<br>4.向你身边精于此道的朋友打听。</p><p>当你提出问题的时候，首先要说明在此之前你干了些什么；这将有助于树立你的形象：你不是一个妄图不劳而获的乞讨者，不愿浪费别人的时间。如果提问者能从答案中学到东西，我们更乐于回答他的问题。</p><p>周全的思考，准备好你的问题，草率的发问只能得到草率的回答，或者根本得不到任何答案。越表现出在寻求帮助前为解决问题付出的努力，你越能得到实质性的帮助。</p><p>小心别问错了问题。如果你的问题基于错误的假设，普通黑客（J. Random Hacker）通常会用无意义的字面解释来答复你，心里想着“蠢问题…”，希望着你会从问题的回答（而非你想得到的答案）中汲取教训。</p><p>决不要自以为够资格得到答案，你没这种资格。毕竟你没有为这种服务支付任何报酬。你要自己去“挣”回一个答案，靠提出一个有内涵的，有趣的，有思维激励作用的问题–一个对社区的经验有潜在贡献的问题，而不仅仅是被动的从他人处索要知识–去挣到这个答案。</p><p>另一方面，表明你愿意在找答案的过程中做点什么，是一个非常好的开端。“谁能给点提示？”、“我这个例子里缺了什么？”以及“我应该检查什么地方？”比“请把确切的过程贴出来”更容易得到答复。因为你显得只要有人指点正确的方向，你就有完成它的能力和决心。<br></p><div class="post-button text-center"><a class="btn" href="/2018/01/10/how-to-ask/#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></section><nav class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><div class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="https://ooo.0o0.ooo/2018/01/02/5a4afbc5e8980.jpg" alt="WILL_V"><p class="site-author-name" itemprop="name">WILL_V</p><div class="site-description motion-element" itemprop="description">辣鸡CTF选手，渣Web，逆向只会F5的渣渣</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">10</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/WWILLV" title="GitHub &rarr; https://github.com/WWILLV" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:admin@willv.cn" title="E-Mail &rarr; mailto:admin@willv.cn"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://twitter.com/twwillv" title="Twitter &rarr; https://twitter.com/twwillv" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/2693120655" title="微博 &rarr; https://weibo.com/u/2693120655" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>微博</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2020</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">WILL_V</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/lib/reading_progress/reading_progress.js"></script><script src="/js/utils.js?v=7.1.0"></script><script src="/js/motion.js?v=7.1.0"></script><script src="/js/affix.js?v=7.1.0"></script><script src="/js/schemes/pisces.js?v=7.1.0"></script><script src="/js/next-boot.js?v=7.1.0"></script><script src="/lib/quicklink/dist/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://willv.cn/',]
        });
      
        });</script><script id="dsq-count-scr" src="https://wwillv.disqus.com/count.js" async></script><script>function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var e=$("#local-search-input");e.attr("autocapitalize","none"),e.attr("autocorrect","off"),e.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(e){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(e,t,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:e,dataType:isXml?"xml":"json",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():e,r=document.getElementById(t),s=document.getElementById(o),a=function(){var e=r.value.trim().toLowerCase(),t=e.split(/[\s\-]+/);t.length>1&&t.push(e);var o=[];if(e.length>0&&n.forEach(function(n){function r(t,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===e&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(e,t){var o="",n=t.start;return t.hits.forEach(function(t){o+=e.substring(n,t.position);var r=t.position+t.length;o+='<b class="search-keyword">'+e.substring(t.position,r)+"</b>",n=r}),o+=e.substring(n,t.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url).replace(/\/{2,}/g,"/"),d=[],g=[];if(""!=l&&(t.forEach(function(e){function t(e,t,o){var n=e.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(t=t.toLowerCase(),e=e.toLowerCase());(s=t.indexOf(e,r))>-1;)a.push({position:s,word:e}),r=s+n;return a}d=d.concat(t(e,h,!1)),g=g.concat(t(e,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(e){e.sort(function(e,t){return t.position!==e.position?t.position-e.position:e.word.length-t.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hits.length!==t.hits.length?t.hits.length-e.hits.length:e.start-t.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(e){b+="<a href='"+f+'\'><p class="search-result">'+s(p,e)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===t.length&&""===t[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x"></i></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>';else{o.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hitCount!==t.hitCount?t.hitCount-e.hitCount:t.id-e.id});var a='<ul class="search-result-list">';o.forEach(function(e){a+=e.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(e){e.stopPropagation()}),$(document).on("keyup",function(e){var t=27===e.which&&$(".search-popup").is(":visible");t&&onPopupClose()})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={},pbOptions.iconStyle="box",pbOptions.boxForm="horizontal",pbOptions.position="bottomCenter",pbOptions.networks="Weibo,Wechat,QQZone,Twitter,Facebook,GooglePlus,Tumblr,Evernote",new needShareButton("#needsharebutton-postbottom",pbOptions)</script></body></html><!-- rebuild by neat -->